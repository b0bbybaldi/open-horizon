{
  "name": "Motion",
  "slug": "motion",
  "org": "dcmartin@us.ibm.com",
  "url": "https://github.com/dcmartin/open-horizon/motion",
  "version": "0.0.1",
  "description": "Motion addon from LINUX package https://motion-project.github.io/",
  "startup": "before",
  "boot": "auto",
  "arch": [
    "aarch64",
    "amd64",
    "armhf",
    "i386"
  ],
  "devices": [
    "/dev/video0:/dev/video0:rwm"
  ],
  "privileged": [
    "SYS_ADMIN"
  ],
  "webui": "http://[HOST]:[PORT:7999]/",
  "timeout": 90,
  "tmpfs": "size=256m,uid=0,rw",
  "map": [
    "share:rw",
    "config:rw"
  ],
  "ports": {
    "7999/tcp": 7999,
    "8080/tcp": 8080,
    "8090/tcp": 8090
  },
  "options": {
    "log_level": "info",
    "log_motion": 2,
    "username": "",
    "password": "",
    "mqtt": {
      "host": "192.168.1.40",
      "port": 1883
    },
    "width": 640,
    "height": 480,
    "framerate": 15,
    "threshold": 1500,
    "v4l2_pallette": 8,
    "videodevice": "/dev/video0"
  },
  "schema": {
    "log_level": "match(^(trace|debug|info|notice|warning|error|fatal)$)",
    "log_motion": "int?",
    "log_type": "str?",
    "name": "str?",
    "username": "str?",
    "password": "str?",
    "auto_brightness": "str?",
    "brightness": "int?",
    "contrast": "int?",
    "event_gap": "int?",
    "framerate": "int?",
    "height": "int?",
    "hue": "int?",
    "lightswitch": "int?",
    "locate_motion_mode": "match(^(on|off|preview)$)",
    "locate_motion_style":  "match(^(box|redbox|cross|redcross)$)",
    "picture_output": "match(^(on|off|first|best)$)",
    "picture_type": "match(^(jpeg|webp|ppm)$)",
    "minimum_frame_time": "int?",
    "minimum_motion_frames": "int?",
    "mmalcam_name": "str?",
    "mmalcam_control_params": "str?",
    "post_capture": "int?",
    "pre_capture": "int?",
    "quality": "int?",
    "rotate": "int?",
    "saturation": "int?",
    "stream_port": "port?",
    "stream_quality": "int?",
    "threshold": "int?",
    "threshold_tune": "match(^(on|off)$)",
    "v412_pallette": "int?",
    "videodevice": "str?",
    "webcontrol_port": "port?",
    "width": "int?",
    "mqtt": {
      "host": "str?",
      "port": "port?",
      "username": "str?",
      "password": "str?"
    }
  },
  "environment": {
    "LOG_FORMAT": "{LEVEL}: {MESSAGE}"
  }
}
